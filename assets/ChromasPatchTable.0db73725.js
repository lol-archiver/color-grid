import{t as e,r as a,h as t,p as s,a as o,b as n,c as r,d as l,F as c,i,j as F,f as u,k as p,l as d,m}from"./vendor.0e163395.js";import{p as h}from"./parseColor.51caf39a.js";const E=function(e){const a=(e.match(/^#?([0-9a-f]{8}|[0-9a-f]{6}||[0-9a-f]{3,4})$/i)||[])[1],t=~~(a.length/3);return a.padEnd(4*t,"F").match(RegExp(`[0-9a-f]{${t}}`,"ig")).map((e=>Number(`0x${e}`)))},C=E("#000000"),B=E("#FFFFFF"),f=[.2126,.7152,.0722,0],g=function(e){return e.map((e=>e/255)).map((e=>e<.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))).reduce(((e,a,t)=>e+f[t]*a),0)},v=function(e,a){const[t,s,o,n]=e,[r,l,c,i]=a;if(n>=255)return e;const F=n/255,u=i/255*(1-F);return[t*F+r*u,s*F+l*u,o*F+c*u,255*(F+u)]},D=function(e,a){const[,,,t]=e;let[,,,s]=a;if(t>=255){s<255&&(a=v(a,e));const t=g(e)+.05,o=g(a)+.05;let n=t/o;return o>t&&(n=1/n),n}{const t=v(e,C),s=v(e,B),o=D(t,a),n=D(s,a),r=Math.max(o,n);let l=1;return g(t)>g(a)?l=o:g(s)<g(a)&&(l=n),(l+r)/2}},w={};function A(e){if(!e)return!0;if(w[e])return e;const a=E(e),t=D(a,C),s=D(a,B);return w[e]=t<s}const $={props:{data:{type:Object,default:()=>({champion:{cn:{},en:{}},patches:{}})}},setup(s){const{champion:o,patches:n}=e(s.data),{cn:r,en:l}=e(o.value),c={"#27211C#27211C":"Obsidian","#2756CE#2756CE":"Sapphire","#2DA130#2DA130":"Emerald","#54209B#54209B":"Tanzanite","#5F432B#5F432B":"Meteorite","#6ABBEE#6ABBEE":"Aquamarine","#73BFBE#73BFBE":"Turquoise","#85827F#85827F":"Granite","#9C68D7#9C68D7":"Amethyst","#9F4A25#9F4A25":"Jasper","#B6E084#B6E084":"Peridot","#C1F2FF#C1F2FF":"Rainbow","#D33528#D33528":"Ruby","#DED6B0#DED6B0":"Sandstone","#DF9117#DF9117":"Citrine","#E58BA5#E58BA5":"Rose Quartz","#ECF9F8#ECF9F8":"Pearl","#FFEE59#FFEE59":"Catseye","#FF2C25#FF2C25":"Amber","#FFC948#FFC948":"Golden","#2377FF#2377FF":"Sapphire","#88FF00#00B170":"Jadeclaw","#B2D1E4#3CABFF":"Hunter","#0C0C0F#B2D1E4":"Night","#162D57#A50031":"Chrono","#0C0C0F#9B1520":"Elite","#000000#A50031":"Antimatter","#0C0E15#611B9E":"Peacekeeper","#6FFDFF#2377FF":"Paragon","#C33C3E#0C0E15":"Pariah","#E58BA5#6FFDFF":"Sweet Tooth","#BD1357#19182A":"Freestyle","#95ECFF#C33C3E":"Nomad","#E0FFFF#C50041":"Heavenly Crane","#FF5500#162B30":"Reckoning","#611B9E#19E888":"Neon Noir","#A5FFF8#D87BFF":"K.O.","#D33528#2756CE":"Fan Pass","#DF6C0E#0DCADB":"LEC","#6ABBEE#FFEE59":"LCS","#D33528#ECF9F8":"LPL","#050B19#ECC124":"Cursed","#080808#8E0A38":"Resolute","#050B19#0055FF":"Elite","#9DFFEF#AA55FF":"Disco","#88FF00#9B1520":"Vitality","#0C0C0F#272A3F":"BADDEST","#FF80B1#9DFFEF":"Coronation","#27211C#971458":"Emberwood"},i={},F=a(!1),u=t((()=>Object.entries(n.value).reduce(((e,a)=>{const[t,s]=a;return e[t]=s.length?s.filter((e=>["ns","nh","uc"].includes(e.type))).map((e=>{var a,t;const[s,o]=e.csid.split(/(?<=^(?:.{3})+)(?!$)/).map((e=>Number(e))),n=r.value[s],u=n.skins[o],p=l.value[s],d=p.skins[o],m=e.tag?e.tag.split("|"):[],E=e.chromasAppend?e.chromasAppend.split("|"):[];E.forEach((a=>{var t;return(null!=(t=i[e.csid])?t:i[e.csid]=[]).push(a)}));const C={csid:e.csid,cid:s,sid:o,type:e.type,chromasAppend:E,isUltimate:Boolean(m.includes("ut")),isPrestige:Boolean(m.includes("pt")),isMythic:Boolean(m.includes("my")),isLegendary:Boolean(m.includes("lg")),isTimeworn:Boolean(m.includes("tw")),isLimit:Boolean(m.includes("lm")),isUpdate:Boolean(m.includes("up")),isSplit:Boolean(m.includes("sp")),colors:{},chromas:Object.values(u.chromas||{}).map((a=>{var t,s,o,n,r,l,p;const[m,h]=null!=(t=a.colors)?t:["#000000","#000000"],C=m+h;let B,f;F.value?(B=m,f=h):(B=null!=(n=a.stage?null==(o=d.chromas[a.id])?void 0:o.name.replace(null!=(s=d.nameStage)?s:d.name,"").trim():c[C])?n:"",f=a.name.replace(null!=(r=u.nameStage)?r:u.name,"").trim()),B||(console||{}).log("炫彩英文名缺失",e.csid,u.name,d.name,m,h),B=`<span style="${A(m)?"":"color: #353637;"}">${B}</span>`,f=`<span style="${A(h)?"":"color: #353637;"}">${f}</span>`;const g=E.length&&!E.includes(C)||!E.length&&(null!=(l=i[e.csid])?l:[]).includes(C);return{name:`${B}\n${f}`,colorText:`${m}\n${h}`,colors:null!=(p=a.colors)?p:["#000000","#000000"],isDark:g}})).sort(((e,a)=>e.isDark-a.isDark)),name:`${null!=(a=d.nameStage)?a:d.name}\n${null!=(t=u.nameStage)?t:u.name}`};return 0==o&&(C.name=`${p.name}, ${p.title}\n${n.title} ${n.name}`),h(C),C.chromas.length||(C.isPrestige?C.chromas.push({isColspan:!0,name:'<span style="color: #353637;">至臻</span>',colors:["#FFFF66","#FFFF66"]}):C.chromas.push({isColspan:!0,name:'<span style="color: #353637;">无</span>',colors:["snow","snow"]})),C})).filter((e=>e)):[{name:"",colors:{},chromas:[{name:"",colors:["transparent","transparent"]}]}],e}),{})));return{showHex:F,patchesParsed:u,scrollNow:1,widthTable:"100% - 100px"}},methods:{atOver(e){this.scrollNow=e.target},atTouch(e){const a=this.$refs.Header,t=this.$refs.Table;let s=e.target;for(;s.parentNode;)s=s.parentNode,s!=a&&s!=t||(this.scrollNow=s)},atScroll(e){if(this.scrollNow!==e.target)return;const a=this.$refs.Header,t=this.$refs.Table,s=e.target;(e.target===t?a:t).scrollTop=s.scrollTop/1}}},b=u();s("data-v-77918e89");const y={class:"overflow-hidden whitespace-nowrap w-full"};o();const T=b(((e,a,t,s,o,u)=>(n(),r("div",y,[l("div",{ref:"Header",class:"Header relative overflow-auto",onMouseenter:a[2]||(a[2]=F(((...e)=>u.atOver&&u.atOver(...e)),["self"])),onTouchstart:a[3]||(a[3]=(...e)=>u.atTouch&&u.atTouch(...e)),onScroll:a[4]||(a[4]=(...e)=>u.atScroll&&u.atScroll(...e))},[(n(!0),r(c,null,i(s.patchesParsed,((e,t)=>(n(),r(c,null,[(n(!0),r(c,null,i(e,((o,l)=>(n(),r("div",{class:["Item relative bg-gray-600 h-14 px-4 leading-7 text-center whitespace-pre cursor-pointer select-none filter hover:contrast-125",0==l?"_first":""],style:{backgroundColor:o.colors.back,color:o.colors.font}},[0==l?(n(),r("div",{key:0,class:"absolute block top-0 left-0 text-sm text-gray-500",rowspan:e.length,onClick:a[1]||(a[1]=e=>s.showHex=!s.showHex)},p(t),9,["rowspan"])):d("",!0),m(" "+p(o.name),1)],6)))),256))],64)))),256))],544),l("div",{ref:"Table",class:"Table relative h-full overflow-auto",onMouseenter:a[5]||(a[5]=F(((...e)=>u.atOver&&u.atOver(...e)),["self"])),onTouchstart:a[6]||(a[6]=(...e)=>u.atTouch&&u.atTouch(...e)),onScroll:a[7]||(a[7]=(...e)=>u.atScroll&&u.atScroll(...e))},[l("table",null,[(n(!0),r(c,null,i(s.patchesParsed,(e=>(n(),r(c,null,[(n(!0),r(c,null,i(e,((e,a)=>(n(),r("tr",null,[(n(!0),r(c,null,i(e.chromas,(e=>(n(),r("td",{colspan:e.isColspan?14:1,class:["Item h-14 px-4 py-0 leading-7 text-sm text-center whitespace-pre overflow-ellipsis cursor-pointer filter hover:contrast-125",0==a?"_first":""],style:[{background:"rgb(255,255,255)"},{"--tw-contrast":e.isDark?"contrast(0.25)":null,background:`linear-gradient(180deg, ${e.colors[0]} 0%, ${e.colors[0]} 50%, ${e.colors[1]} 50%, ${e.colors[1]} 100%)`}],innerHTML:e.name},null,14,["colspan","innerHTML"])))),256))])))),256))],64)))),256))])],544)]))));$.render=T,$.__scopeId="data-v-77918e89";export default $;
