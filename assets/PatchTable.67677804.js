import{t as e,h as t,r as s,p as l,a,b as r,c as i,d as o,F as n,i as c,j as h,f as u,k as d,l as p}from"./vendor.0e163395.js";const v={props:{data:{type:Object,default:()=>({champion:{cn:{},en:{}},patches:{}})}},setup(l){const{champion:a,patches:r}=e(l.data),{cn:i,en:o}=e(a.value),n=t((()=>Object.entries(r.value).reduce(((e,t)=>{const[s,l]=t;return e[s]=l.reduce(((e,t)=>{var s;const[l,a]=t.csid.split(/(?<=^(?:.{3})+)(?!$)/).map((e=>Number(e))),r=i.value[l],n=r.skins[a],c=o.value[l],h=c.skins[a],u=(null!=(s=t.tag)?s:"").split("|"),d={csid:t.csid,cid:l,sid:a,type:t.type,isUltimate:Boolean(u.includes("ut")),isPrestige:Boolean(u.includes("pt")),isMythic:Boolean(u.includes("my")),isLegendary:Boolean(u.includes("lg")),isTimeworn:Boolean(u.includes("tw")),isLimit:Boolean(u.includes("lm")),isUpdate:Boolean(u.includes("up")),isSplit:Boolean(u.includes("sp")),colors:{},name:`${h.name}\n${n.name}`};return 0==a&&(d.name=`${c.name}, ${c.title}\n${r.title} ${r.name}`),(e=>{let t="#ffffff",s="#000000";t=0==e.sid?"#C6E0B4":e.isUltimate?"#FFE699":e.isPrestige?"#F8CBAD":e.isMythic?"#AE88FF":e.isLegendary?"#FF8383":e.isTimeworn?"#00C8FF":e.isLimit?"#BDD7EE":"#DAC2EC",e.isUpdate&&e.isLegendary?s="#3f51b5":e.isUpdate?s="#C00000":"#BDD7EE"!=t&&e.isLimit&&(s="#396c9a"),e.colors.back=t,e.colors.font=s})(d),"ns"==d.type||"nh"==d.type?e.main.push(d):"up"==d.type?e.skin.push(d):"uh"==d.type?e.skill.push(d):"uv"==d.type?e.voice.push(d):"uc"==d.type&&e.chromas.push(d),e}),{main:[],skin:[],skill:[],voice:[],chromas:[]}),e}),{}))),c=t((()=>Object.entries(n.value).reduce(((e,[t,s])=>(e[t]=(s.main.length>0)+(s.skin.length>0)+(s.skill.length>0)+(s.voice.length>0)+(s.chromas.length>0),e)),{})));return{patchesParsed:n,scrollNow:1,countsType:c,namesType:s({main:"全新推出",skin:"品质更新",skill:"技能更新",voice:"语音更新",chromas:"炫彩追加"})}},mounted(){},methods:{atOver(e){this.scrollNow=e.target},atTouch(e){const t=this.$refs.Patcher,s=this.$refs.Table;let l=e.target;for(;l.parentNode;)l=l.parentNode,l!=t&&l!=s||(this.scrollNow=l)},atScroll(e){if(this.scrollNow!==e.target)return;const t=this.$refs.Patcher,s=this.$refs.Table,l=this.$refs.Header,a=e.target,r=e.target===s?t:s,i=(a.scrollHeight-a.clientHeight)/(r.scrollHeight-r.clientHeight);r.scrollTop=a.scrollTop/i;const o=(l.scrollWidth-l.clientWidth)/(s.scrollWidth-s.clientWidth);l.scrollLeft=s.scrollLeft/o}}},m=u();l("data-v-224250b8");const f={class:"overflow-auto"},g={class:"relative w-full h-14 leading-14 overflow-hidden"},y=o("div",{class:"inline-block align-top relative w-24 text-center bg-gray-600 cursor-pointer select-none filter hover:contrast-125"},"版本",-1),b={ref:"Header",class:"Header _hideBar inline-block align-top relative whitespace-nowrap h-14 leading-14 overflow-auto",style:{width:"calc(100% - 6rem - 7px)"}},w=o("div",{class:"Item _lineFirst inline-block relative text-center bg-gray-600 cursor-pointer select-none filter hover:contrast-125",style:{width:"100%"}},"更新内容",-1),T={ref:"TableItem"},k={key:0,class:"relative"},B={key:0,class:"absolute block -top-2 left-1 text-xs text-gray-500"},F={key:0,class:"Item _lineFirst relative h-14"};a();const $=m(((e,t,s,l,a,u)=>(r(),i("div",f,[o("div",g,[y,o("div",b,[w],512)]),o("div",{ref:"Patcher",class:"Patcher _hideBar relative w-24 overflow-auto",onMouseenter:t[1]||(t[1]=h(((...e)=>u.atOver&&u.atOver(...e)),["self"])),onTouchstart:t[2]||(t[2]=(...e)=>u.atTouch&&u.atTouch(...e)),onScroll:t[3]||(t[3]=(...e)=>u.atScroll&&u.atScroll(...e))},[(r(!0),i(n,null,c(l.patchesParsed,((e,t,s)=>(r(),i("div",{class:["relative w-full text-center cursor-pointer select-none filter hover:contrast-125",{"bg-gray-500":s%2,"bg-gray-600":!(s%2)}],style:{height:3.5*(l.countsType[t]||1)+"rem",lineHeight:3.5*(l.countsType[t]||1)+"rem"}},d(t),7)))),256))],544),o("div",{ref:"Table",class:"Table relative overflow-auto",onMouseenter:t[4]||(t[4]=h(((...e)=>u.atOver&&u.atOver(...e)),["self"])),onTouchstart:t[5]||(t[5]=(...e)=>u.atTouch&&u.atTouch(...e)),onScroll:t[6]||(t[6]=(...e)=>u.atScroll&&u.atScroll(...e))},[o("table",T,[(r(!0),i(n,null,c(l.patchesParsed,((e,t)=>(r(),i(n,null,[(r(!0),i(n,null,c(e,((e,t)=>(r(),i(n,null,[e.length?(r(),i("tr",k,[(r(!0),i(n,null,c(e,((e,t)=>(r(),i("td",{class:["Item relative h-14 px-4 py-0 leading-7 text-sm whitespace-pre text-center overflow-ellipsis filter hover:contrast-125 cursor-pointer select-none",{_split:e.isSplit&&0!=t,_lineFirst:0==t}],style:{backgroundColor:e.colors.back,color:e.colors.font}},d(e.name),7)))),256)),"main"!=t?(r(),i("div",B,d(l.namesType[t]),1)):p("",!0)])):p("",!0)],64)))),256)),0==l.countsType[t]?(r(),i("tr",F)):p("",!0)],64)))),256))],512)],544)]))));v.render=$,v.__scopeId="data-v-224250b8";export default v;
