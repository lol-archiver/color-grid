import{p as e,a,t as n,r as t,h as s,c as o,b as l,F as r,i as c,u as i,j as u,f as F,n as p,k as m,l as d,m as E,q as h}from"./vendor.9cafa8d9.js";import{p as C}from"./parseColor.51caf39a.js";const B=function(e){const a=(e.match(/^#?([0-9a-f]{8}|[0-9a-f]{6}||[0-9a-f]{3,4})$/i)||[])[1],n=~~(a.length/3);return a.padEnd(4*n,"F").match(RegExp(`[0-9a-f]{${n}}`,"ig")).map((e=>Number(`0x${e}`)))},f=B("#000000"),g=B("#FFFFFF"),v=[.2126,.7152,.0722,0],D=function(e){return e.map((e=>e/255)).map((e=>e<.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))).reduce(((e,a,n)=>e+v[n]*a),0)},A=function(e,a){const[n,t,s,o]=e,[l,r,c,i]=a;if(o>=255)return e;const u=o/255,F=i/255*(1-u);return[n*u+l*F,t*u+r*F,s*u+c*F,255*(u+F)]},y=function(e,a){const[,,,n]=e;let[,,,t]=a;if(n>=255){t<255&&(a=A(a,e));const n=D(e)+.05,s=D(a)+.05;let o=n/s;return s>n&&(o=1/o),o}{const n=A(e,f),t=A(e,g),s=y(n,a),o=y(t,a),l=Math.max(s,o);let r=1;return D(n)>D(a)?r=s:D(t)<D(a)&&(r=o),(r+l)/2}},$={};function b(e){if(!e)return!0;if($[e])return e;const a=B(e),n=y(a,f),t=y(a,g);return $[e]=n<t}e("data-v-8d0cea38");const w={class:"overflow-hidden whitespace-nowrap w-full"},k=["onMouseenter"],S=["rowspan"],T=["onMouseenter"],x=["colspan","innerHTML"];a();const M={props:{data:{type:Object,default:()=>({champion:{cn:{},en:{}},patches:{}})}},setup(e){const a=e,{champion:B,patches:f}=n(a.data),{cn:g,en:v}=n(B.value),D={"#27211C#27211C":"Obsidian","#2756CE#2756CE":"Sapphire","#2DA130#2DA130":"Emerald","#54209B#54209B":"Tanzanite","#5F432B#5F432B":"Meteorite","#6ABBEE#6ABBEE":"Aquamarine","#73BFBE#73BFBE":"Turquoise","#85827F#85827F":"Granite","#9C68D7#9C68D7":"Amethyst","#9F4A25#9F4A25":"Jasper","#B6E084#B6E084":"Peridot","#C1F2FF#C1F2FF":"Rainbow","#D33528#D33528":"Ruby","#DED6B0#DED6B0":"Sandstone","#DF9117#DF9117":"Citrine","#E58BA5#E58BA5":"Rose Quartz","#ECF9F8#ECF9F8":"Pearl","#FFEE59#FFEE59":"Catseye","#FF2C25#FF2C25":"Amber","#FFC948#FFC948":"Golden","#2377FF#2377FF":"Sapphire","#88FF00#00B170":"Jadeclaw","#B2D1E4#3CABFF":"Hunter","#0C0C0F#B2D1E4":"Night","#162D57#A50031":"Chrono","#0C0C0F#9B1520":"Elite","#000000#A50031":"Antimatter","#0C0E15#611B9E":"Peacekeeper","#6FFDFF#2377FF":"Paragon","#C33C3E#0C0E15":"Pariah","#E58BA5#6FFDFF":"Sweet Tooth","#BD1357#19182A":"Freestyle","#95ECFF#C33C3E":"Nomad","#E0FFFF#C50041":"Heavenly Crane","#FF5500#162B30":"Reckoning","#611B9E#19E888":"Neon Noir","#A5FFF8#D87BFF":"K.O.","#D33528#2756CE":"Fan Pass","#DF6C0E#0DCADB":"LEC","#6ABBEE#FFEE59":"LCS","#D33528#ECF9F8":"LPL","#050B19#ECC124":"Cursed","#080808#8E0A38":"Resolute","#050B19#0055FF":"Elite","#9DFFEF#AA55FF":"Disco","#88FF00#9B1520":"Vitality","#0C0C0F#272A3F":"BADDEST","#FF80B1#9DFFEF":"Coronation","#27211C#971458":"Emberwood"},A={},y=t(!1),$=s((()=>Object.entries(f.value).reduce(((e,a)=>{const[n,t]=a;return e[n]=t.length?t.filter((e=>["ns","nh","uc"].includes(e.type))).map((e=>{var a,n;const[t,s]=e.csid.split(/(?<=^(?:.{3})+)(?!$)/).map((e=>Number(e))),o=g.value[t],l=o.skins[s],r=v.value[t],c=r.skins[s],i=e.tag?e.tag.split("|"):[],u=e.chromasAppend?e.chromasAppend.split("|"):[];u.forEach((a=>{var n;return(null!=(n=A[e.csid])?n:A[e.csid]=[]).push(a)}));const F={csid:e.csid,cid:t,sid:s,type:e.type,chromasAppend:u,isUltimate:Boolean(i.includes("ut")),isPrestige:Boolean(i.includes("pt")),isMythic:Boolean(i.includes("my")),isLegendary:Boolean(i.includes("lg")),isTimeworn:Boolean(i.includes("tw")),isLimit:Boolean(i.includes("lm")),isUpdate:Boolean(i.includes("up")),isSplit:Boolean(i.includes("sp")),colors:{},chromas:Object.values(l.chromas||{}).map((a=>{var n,t,s,o,r,i,F;const[p,m]=null!=(n=a.colors)?n:["#000000","#000000"],d=p+m;let E,h;y.value?(E=p,h=m):(E=null!=(o=a.stage?null==(s=c.chromas[a.id])?void 0:s.name.replace(null!=(t=c.nameStage)?t:c.name,"").trim():D[d])?o:"",h=a.name.replace(null!=(r=l.nameStage)?r:l.name,"").trim()),E||(console||{}).log("炫彩英文名缺失",e.csid,l.name,c.name,p,m),E=`<span style="${b(p)?"":"color: #353637;"}">${E}</span>`,h=`<span style="${b(m)?"":"color: #353637;"}">${h}</span>`;const C=u.length&&!u.includes(d)||!u.length&&(null!=(i=A[e.csid])?i:[]).includes(d);return{name:`${E}\n${h}`,colorText:`${p}\n${m}`,colors:null!=(F=a.colors)?F:["#000000","#000000"],isDark:C}})).sort(((e,a)=>e.isDark-a.isDark)),name:`${null!=(a=c.nameStage)?a:c.name}\n${null!=(n=l.nameStage)?n:l.name}`};return 0==s&&(F.name=`${r.name}, ${r.title}\n${o.title} ${o.name}`),C(F),F.chromas.length||(F.isPrestige?F.chromas.push({isColspan:!0,name:'<span style="color: #353637;">至臻</span>',colors:["#FFFF66","#FFFF66"]}):F.chromas.push({isColspan:!0,name:'<span style="color: #353637;">无</span>',colors:["snow","snow"]})),F})).filter((e=>e)):[{name:"",colors:{},chromas:[{name:"",colors:["transparent","transparent"]}]}],e}),{}))),M=t(1),P=t(null),L=t(null),N=e=>{M.value=e.target},j=e=>{let a=e.target;for(;a.parentNode;)a=a.parentNode,a!=P.value&&a!=L.value||(M.value=a)},R=e=>{if(M.value!==e.target)return;const a=e.target;(e.target===L.value?P.value:L.value).scrollTop=a.scrollTop/1};return(e,a)=>(F(),o("div",w,[l("div",{ref:P,class:"Header relative overflow-auto",onMouseenter:u(N,["self"]),onTouchstart:j,onScroll:R},[(F(!0),o(r,null,c(i($),((e,n)=>(F(),o(r,null,[(F(!0),o(r,null,c(e,((t,s)=>(F(),o("div",{class:p(["Item relative bg-gray-600 h-14 px-4 leading-7 text-center whitespace-pre cursor-pointer select-none filter hover:contrast-125",0==s?"_first":""]),style:m({backgroundColor:t.colors.back,color:t.colors.font})},[0==s?(F(),o("div",{key:0,class:"absolute block top-0 left-0 text-sm text-gray-500",rowspan:e.length,onClick:a[0]||(a[0]=e=>y.value=!y.value)},d(n),9,S)):E("",!0),h(" "+d(t.name),1)],6)))),256))],64)))),256))],40,k),l("div",{ref:L,class:"Table relative h-full overflow-auto",onMouseenter:u(N,["self"]),onTouchstart:j,onScroll:R},[l("table",null,[(F(!0),o(r,null,c(i($),(e=>(F(),o(r,null,[(F(!0),o(r,null,c(e,((e,a)=>(F(),o("tr",null,[(F(!0),o(r,null,c(e.chromas,(e=>(F(),o("td",{colspan:e.isColspan?14:1,class:p(["Item h-14 px-4 py-0 leading-7 text-sm text-center whitespace-pre overflow-ellipsis cursor-pointer filter hover:contrast-125",0==a?"_first":""]),style:m([{background:"rgb(255,255,255)"},{"--tw-contrast":e.isDark?"contrast(0.25)":null,background:`linear-gradient(180deg, ${e.colors[0]} 0%, ${e.colors[0]} 50%, ${e.colors[1]} 50%, ${e.colors[1]} 100%)`}]),innerHTML:e.name},null,14,x)))),256))])))),256))],64)))),256))])],40,T)]))},__scopeId:"data-v-8d0cea38"};export{M as default};
